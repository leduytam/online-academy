<div class='container instructor-container'>
  <div class='instructor-responsive-container'>
    <div class='tab-content' id='myTabContent'>
      <div
        class='tab-pane fade show active'
        id='information'
        role='tabpanel'
        aria-labelledby='information-tab'
      >
        <form
          action='/api/v1/instructor/{{course.slug}}/{{section._id}}/{{lesson.slug}}/update-lesson'
          method='POST'
          id='form-video-update'
        >
          <div class='d-flex form-container m-2'>
            <div class='form-content'>
              <div class='oa-form-group'>
                <label class='oa-form-label oa-heading-sm'>Name</label>
                <input
                  type='text'
                  name='name'
                  id='name'
                  class='oa-text-input-large'
                  value='{{lesson.name}}'
                  required='true'
                />
              </div>
              <div class='oa-form-group mb-3'>
                <label class='oa-form-label oa-heading-sm'></label>
                <div class='form-check'>
                  <input
                    class='form-check-input'
                    type='checkbox'
                    name='preview'
                    id='preview'
                    value='{{lesson.isPreview}}'
                    required='true'
                    disabled
                  />
                  <label class='form-check-label' for='preview'>
                    Preview
                  </label>
                </div>
              </div>
              <div class='oa-form-group'>
                <label class='oa-form-label oa-heading-sm'>Video</label>
                <div class='udlite-in-udheavy'>
                  <div class='ud-image-upload-preview-wrapper video-content'>
                    <div class='image-upload-preview-with-crop'>
                      {{#if videoUrl}}
                        <video
                          class='w-100 h-100'
                          controls
                          playsinline
                          id='player'
                          data-slug='{{lesson.slug}}'
                          style='max-height: 50rem'
                        >
                          <source type='video' src='{{videoUrl}}' />
                        </video>
                      {{else}}
                        <div class='image-upload-preview'>
                          <div class='image-upload-preview-placeholder'>
                            <i class='fa-solid fa-video'></i>
                          </div>
                        </div>
                      {{/if}}
                    </div>
                  </div>
                  <div class='mb-3'>
                    <input
                      class='form-control video-content'
                      type='file'
                      name='video'
                      accept='video/mp4'
                      required='true'
                    />
                  </div>
                  <progress
                    id='progress'
                    max='100'
                    value='0'
                    class='video-content'
                  ></progress>
                </div>

                <script
                  src='https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js'
                ></script>

                <script>
                  const $ = document.querySelector.bind(document); const config
                  = { onUploadProgress: e => { const percentUploaded =
                  Math.round((e.loaded * 100) / e.total)
                  $('#progress').setAttribute('value', percentUploaded); } };
                  $('#form-video-update').addEventListener('submit', e => {
                  const data = new FormData(e.target);
                  axios.post(`/api/v1/instructor/{{course.slug}}/{{section._id}}/{{lesson.slug}}/update-lesson`,
                  data, config) });
                </script>

              </div>
              <div class='oa-footer-btns d-flex pb-3'>
                <button type='submit' class='save-button btn btn-primary'>
                  <i class='fa-solid fa-floppy-disk'></i>
                  <span>Save</span>
                </button>
                <button
                  class='btn btn-danger save-button d-fex align-items-center justify-content-center'
                ><i class='fa-solid fa-trash'></i>
                  Delete</button>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>

  </div>
</div>
<div class='row flex-grow-1 mx-0 align-items-center justify-content-center' style='margin-top: 6rem; margin-bottom: 6rem;'>
  <div class='col-sm-9 col-md-7 col-lg-6 col-xl-5 col-xxl-4'>
    <div class='card border-0 shadow-lg rounded-3'>
      <div class='card-body p-4 p-sm-5'>
        <h3 class='card-title text-center mb-4'>Forgot password</h3>
        <form
          id='frm-reset-password'
          action='/reset-password'
          method='POST'
          novalidate
        >
          <div class='form-floating mb-3'>
            <input
              id='email'
              type='email'
              class='form-control'
              name='email'
              placeholder='name@example.com'
              required='required'
              pattern="[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?"
              autofocus
            />
            <label>
              Email address
              <span class='text-danger'>*</span>
            </label>
            <div class='invalid-feedback'>Please enter a valid email address</div>
          </div>

          <div class='form-floating mb-3'>
            <input
              id='password'
              type='password'
              class='form-control'
              name='password'
              placeholder='New password'
              required='required'
              pattern='^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$'
            />
            <label>
              New password
              <span class='text-danger'>*</span>
            </label>
            <div class='invalid-feedback'>
              Password must be followed by:
              <ul class='mb-0'>
                <li>At least 8 characters</li>
                <li>At least 1 uppercase letter</li>
                <li>At least 1 lowercase letter</li>
                <li>At least 1 number</li>
                <li>At least 1 special character (#?!@$%^&*-)</li>
              </ul>
            </div>
          </div>

          <div class='form-floating mb-3'>
            <input
              id='confirm-password'
              type='password'
              class='form-control'
              name='confirmPassword'
              placeholder='Confirm new password'
              required='required'
            />
            <label>
              Confirm Password
              <span class='text-danger'>*</span>
            </label>
            <div class='invalid-feedback'>Password and confirm password do not
              match</div>
          </div>

          <div class='d-flex mb-3 gap-3'>
            <div class='form-floating flex-grow-1'>
              <input
                name='otp'
                type='text'
                class='form-control'
                placeholder='OTP'
                maxlength='6'
                required='required'
                pattern='^\d{6}$'
              />
              <label>
                OTP
                <span class='text-danger'>*</span>
              </label>
            </div>

            <button
              id='btn-send-otp'
              type='button'
              class='btn btn-outline-secondary px-4'
              disabled='disabled'
            >
              Send OTP
            </button>
          </div>

          {{#if error}}
            <div class='alert alert-danger' role='alert'>
              {{error}}
            </div>
          {{/if}}

          {{#if success}}
            <div class='alert alert-success' role='alert'>
              {{success}}
            </div>
          {{/if}}

          <div id='alert-otp' class='alert d-none' role='alert'></div>

          <button class='btn btn-primary fs-6 fw-bold py-3 w-100' type='submit'>
            Reset password
          </button>
        </form>

        <div class='text-center mt-4'>
          <a href='/login'>Back to log in</a>
        </div>
      </div>
    </div>
  </div>
</div>

<script src='/js/forgotPassword.js'></script>
